import React from 'react'; import { AppCtx } from '../../App.jsx'
export default function Feedback(){ const { submitFeedback, feedbacks, deleteFeedback }=React.useContext(AppCtx); const [f,setF]=React.useState({name:'',email:'',msg:''}); const onSubmit=e=>{ e.preventDefault(); if(!f.name||!f.email||!f.msg) return alert('Fill all fields'); submitFeedback(f); setF({name:'',email:'',msg:''}) }; return (<div className="section-enter"><h2 className="h4">Feedback</h2><form className="card card-body mb-3" onSubmit={onSubmit}><div className="row g-2"><div className="col-md-6"><input className="form-control" placeholder="Name" value={f.name} onChange={e=>setF({...f,name:e.target.value})}/></div><div className="col-md-6"><input className="form-control" type="email" placeholder="Email" value={f.email} onChange={e=>setF({...f,email:e.target.value})}/></div><div className="col-12"><textarea className="form-control" rows="3" placeholder="Your feedback..." value={f.msg} onChange={e=>setF({...f,msg:e.target.value})}></textarea></div></div><button className="btn btn-secondary mt-2">Submit</button></form><div className="card card-body"><h6 className="fw-bold">Previous</h6>{feedbacks.length===0? <div className="text-muted">No feedback yet.</div>:<ul className="list-group">{feedbacks.map((x,i)=>(<li key={i} className="list-group-item d-flex justify-content-between"><span><strong>{x.name}</strong> <span className="text-muted small">({x.email})</span> â€” {x.msg}</span><button className="btn btn-sm btn-outline-danger" onClick={()=>deleteFeedback(i)}>Delete</button></li>))}</ul>}</div></div>) }